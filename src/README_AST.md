## What is an Abstract Syntax Tree (AST)?
In `wtf_wikipedia` the concept of an **Abstract Syntax Tree** (**AST**) is a [tree representation](https://en.wikipedia.org/wiki/directed_tree) of the WikiMedia syntax of the source text in Wiki Markdown. The data in the Wiki article in stored in a JSON structure. The JSON is valuable for data management of extracted content elements. The AST can be represented in a JSON as well, in which each node of the tree denotes a content element (e.g. paragraph, header/title, image, mathematical expression) occurring in the source text downloaded via the MediaWiki API with `wtf.fetch(...)`. The syntax tree is "abstract" in a sense that is not representing a special output format in detail (e.g. HTML, LaTeX, MarkDown,...). The AST nodes are encode in the Wiki Markdown and tree structure can be used to generate the different output formats by application of the appropriate tree node handler for the title, image, sentences to the AST.

Similar to programming languages the abstract syntax trees can be derived from a concrete syntax trees, traditionally generated by parsing a given string compliant with a "strange" grammar of the Wiki source text.

## Storage of AST
The downloaded Wiki sources of an article is stored in `wtf.wiki`. The wiki source text is processed into an abstract syntax tree that could be stored in `wtf.tree`. If developers want to export the JSON AST into a well formated text file use:
```javascript
var vTreeString = JSON.stringify(wtf.tree,null,4);
```
* The string of the ASt can be used in the test cases in `tests/basis_ast.test.js`.
* For debugging and designing new export formats.

## Example of an AST

The following example is currently not an available feature in `wtf_wikipedia`. It could serve as basis for further generation of other export formats for formats that will never be implemented in `wtf_wikipedia`.

Wiki Page &gt;-&gt; `wtf_wikipedia.js` &gt;-&gt; AST &gt;-&gt; `ast2odf.js` &gt;-&gt; Open Document Format

```javascript
{
   language: "en",
   domain: "wikiversity",
   article: "Water",
   ast: [
       {
           type:"paragraph",
           value:"",
           children:[
              {
                   type:"sentence",
                   value:"My first sentence.",
                  children:[]
             },
           {
                   type:"sentence",
                   value:"My Second sentence.",
                  children:[]
             },
          ]
       },
       {
           type:"title",
           value:"My Title",
           children:null

       },
       {
           type:"math",
           value:"\sum_{k=1}^{n} k^2",
           children:[]

       },
    ]
}
```
