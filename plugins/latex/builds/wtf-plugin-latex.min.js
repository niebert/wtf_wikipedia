!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).wtfLatex=e()}(this,(function(){"use strict";var t={infoboxes:!0,sections:!0},e=function(e){e=Object.assign({},t,e);var n,a,i="";return!0===this.isRedirect()?(n=this.redirectTo(),a="./"+(a=n.page).replace(/ /g,"_"),n.anchor&&(a+="#"+n.anchor),"↳ \\href{"+a+"}{"+n.text+"}"):(!0===e.infoboxes&&(i+=this.infoboxes().map((function(t){return t.latex(e)})).join("\n")),!0!==e.sections&&!0!==e.paragraphs&&!0!==e.sentences||(i+=this.sections().map((function(t){return t.latex(e)})).join("\n")),!0===e.references&&(i+=this.references().map((function(t){return t.latex(e)})).join("\n")),i)},n={headers:!0,images:!0,tables:!0,lists:!0,paragraphs:!0},a=function(t){var e="",a=1;if(!0===(t=Object.assign({},n,t)).headers&&this.title()){var i="\n",r="}";switch(a=1+this.depth){case 1:i+="\\chapter{";break;case 2:i+="\\section{";break;case 3:i+="\\subsection{";break;case 4:i+="\\subsubsection{";break;case 5:i+="\\paragraph{",r="} \\\\ \n";break;case 6:i+="\\subparagraph{",r="} \\\\ \n";break;default:i+="\n% section with depth="+a+" undefined - use subparagraph instead\n\\subparagraph{",r="} \\\\ \n"}e+=i+this.title()+r,e+="\n"}return!0===t.images&&this.images()&&(e+=this.images().map((function(e){return e.latex(t)})).join("\n")),!0===t.tables&&this.tables()&&(e+=this.tables().map((function(e){return e.latex(t)})).join("\n")),!0===t.lists&&this.lists()&&(e+=this.lists().map((function(e){return e.latex(t)})).join("\n")),!0!==t.paragraphs&&!0!==t.sentences||(e+=this.paragraphs().map((function(e){return e.latex(t)})).join(" "),e+="\n"),e},i={sentences:!0},r=function(t){var e="";return!0===(t=Object.assign({},i,t)).sentences&&(e+="\n\n% BEGIN Paragraph\n",e+=this.sentences().reduce((function(e,n){return e+=n.latex(t)+"\n"}),""),e+="% END Paragraph"),e};var s=function(t,e,n){if(!e||!t)return t;"number"==typeof t&&(t=String(t)),e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a=new RegExp("\\b"+e+"\\b");return t=!0===a.test(t)?t.replace(a,n):t.replace(e,n)},o={links:!0,formatting:!0},c=function(t){t=Object.assign({},o,t);var e=this.text();return!0===t.links&&this.links().length>0&&this.links().forEach((function(t){var n=t.latex(),a=t.text()||t.page();e=s(e,a,n)})),!0===t.formatting&&this.data.fmt&&(this.data.fmt.bold&&this.data.fmt.bold.forEach((function(t){e=s(e,t,"\\textbf{"+t+"}")})),this.data.fmt.italic&&this.data.fmt.italic.forEach((function(t){e=s(e,t,"\\textit{"+t+"}")}))),e},l=function(){var t=this.href();return"\\href{"+(t=t.replace(/ /g,"_"))+"}{"+(this.text()||this.page())+"}"},h=function(){var t=this.alt(),e="\\begin{figure}";return e+="\n\\includegraphics[width=\\linewidth]{"+this.thumb()+"}",e+="\n\\caption{"+t+"}",e+="\n\\end{figure}"},u={image:!0,caption:!0,alt:!0,signature:!0,"signature alt":!0},f={images:!0},p=function(t){var e=this;t=Object.assign({},f,t);var n="\n \\vspace*{0.3cm} % Info Box\n\n";return n+="\\begin{tabular}{|@{\\qquad}l|p{9.5cm}@{\\qquad}|} \n",n+="  \\hline  %horizontal line\n",Object.keys(this.data).forEach((function(a){if(!0!==u[a]){var i=e.data[a].latex(t);n+="  % ---------- \n",n+="      "+a+" & \n",n+="      "+i+"\\\\ \n",n+="  \\hline  %horizontal line\n"}})),n+="\\end{tabular} \n",n+="\n\\vspace*{0.3cm}\n\n"},b=function(t){var e="\\begin{itemize}\n";return this.lines().forEach((function(n){e+="  \\item "+n.text(t)+"\n"})),e+="\\end{itemize}\n"},g=function(){return"⌃ "+this.title()+"\n"},d=function(t){var e=this.data,n="\n%\\vspace*{0.3cm}\n";n+="\n% BEGIN TABLE: only left align columns in LaTeX table with horizontal line separation between columns",n+="\n% Format Align Column: 'l'=left 'r'=right align, 'c'=center, 'p{5cm}'=block with column width 5cm ",n+="\n\\begin{tabular}{|",Object.keys(e[0]).forEach((function(){n+="l|"})),n+="} \n",n+="\n  \\hline  %horizontal line\n",n+="\n  % BEGIN: Table Header";var a="   ";return Object.keys(e[0]).forEach((function(t){n+="\n    "+a,0===t.indexOf("col-")?n+="\\textbf{"+t+"}":n+="  ",a=" & "})),n+="\\\\ ",n+="\n  % END: Table Header",n+="\n  % BEGIN: Table Body",n+="\n  \\hline  % ----- table row -----",e.forEach((function(e){a=" ",n+="\n  % ----- table row -----",Object.keys(e).forEach((function(i){var r=e[i].latex(t);n+="\n    "+a+r,a=" & "})),n+="  \\\\ ",n+="\n  \\hline  %horizontal line"})),n+="\n    % END: Table Body",n+="\\end{tabular} \n",n+="\n\\vspace*{0.3cm}\n\n"};return function(t){t.Doc.prototype.latex=e,t.Section.prototype.latex=a,t.Paragraph.prototype.latex=r,t.Sentence.prototype.latex=c,t.Image.prototype.latex=h,t.Link.prototype.latex=l,t.Image.prototype.latex=h,t.Infobox.prototype.latex=p,t.List.prototype.latex=b,t.Reference.prototype.latex=g,t.Table.prototype.latex=d}}));
